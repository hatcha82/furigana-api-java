<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.furiganahub.api.dao.DbDao">
    <!-- /* select dual */ -->
    <select id="getSID"  resultType="Object">
    	SELECT SEQ_OBJECT_SID_NEXTVAL() SID
    </select>
    <select id="getNow"  resultType="Object">
        SELECT NOW()
    </select>
 	<select id="getBible" parameterType="HashMap" resultType="HashMap">
        SELECT 	*
        FROM	SEQ_OBJECT_SID
        limit 	30
    </select>
    <select id="procedureQuery" statementType="CALLABLE" parameterType="HashMap" resultType="ResultSet">
    	{ call ${PROCEDURE_STR} }
    </select>
    
    <select id="procedureMeta" resultType="HashMap">
    	SELECT   SPECIFIC_SCHEMA
            ,    SPECIFIC_NAME          SP_FULL_NAME
            ,    ORDINAL_POSITION       SEQUENCE
            ,    PARAMETER_MODE         IN_OUT
            ,    PARAMETER_NAME         ARGUMENT_NAME
            ,    DATA_TYPE              DATA_TYPE              
        FROM     INFORMATION_SCHEMA.PARAMETERS
        WHERE    SPECIFIC_NAME     =    #{PROCEDURE_NAME}
        AND      ROUTINE_TYPE      =    'PROCEDURE'
        AND		 SPECIFIC_SCHEMA   =    DATABASE()
        ORDER
        BY      ORDINAL_POSITION
        ;
    </select>
</mapper>

